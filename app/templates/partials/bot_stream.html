{% macro bot_stream(msg_id, session_id) -%}
<div id="msg-{{ msg_id }}" class="message bot-stream"
     hx-ext="sse" sse-close="done"
     sse-connect="{{ url_for('chat.sse_reply', session_id=session_id, msg_id=msg_id) }}">
  <span class="raw-response" sse-swap="message,done" hidden hx-swap="beforeend"></span>
  <span class="meta" sse-swap="meta" hidden></span>

  <span class="markdown-body">
    <span id="typing-indicator"
          sse-swap="done"
          hx-swap="outerHTML">
      <span class="cursor">❚</span>
    </span>
  </span>
  <div class="meta-chips"></div>
</div>
{%- endmacro %}
