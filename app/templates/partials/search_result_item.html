<li class="{{ item.css_class }}" role="option">
  <a href="{{ url_for('sessions.session', session_id=item.created_at[:10]) }}?target=msg-{{ item.id }}"
     hx-get="{{ url_for('chat.chat_htmx', session_id=item.created_at[:10]) }}?target=msg-{{ item.id }}"
     hx-target="#content-wrapper"
     hx-swap="outerHTML"
     data-session-id="{{ item.created_at[:10] }}"
     data-target="msg-{{ item.id }}"
     hx-trigger="click[!document.getElementById('chat') || document.getElementById('chat').dataset.sessionId !== this.dataset.sessionId]">
    <div class="search-result-meta">
      {{ "You" if  item.role == "user" else config.APP_NAME }}
    </div>
    <div class="search-result-time">
      {{ item.created_at|humanize }}
    </div>
    <div class="search-result-content">
      {%- if item.snippet.leading_ellipsis %}…{% endif -%}
      {%- for seg in item.snippet.segments -%}
        {%- if seg.hit -%}
          <mark>{{ seg.text }}</mark>
        {%- else -%}
          {{ seg.text }}
        {%- endif -%}
      {%- endfor -%}
      {%- if item.snippet.trailing_ellipsis %}…{% endif -%}
    </div>
  </a>
</li>
