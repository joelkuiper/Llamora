<form id="search-form"
      hx-get="/search"
      hx-target="#search-results"
      hx-swap="innerHTML"
      hx-trigger="keyup changed delay:300ms from:#search-input, submit"
      hx-indicator="#search-spinner"
      hx-sync="this:replace"
      hx-on:htmx:beforeRequest="this.closest('search-overlay')?.querySelector('#search-results')?.setAttribute('aria-busy', 'true')"
      hx-on:htmx:afterRequest="this.closest('search-overlay')?.querySelector('#search-results')?.removeAttribute('aria-busy')"
      hx-on:htmx:sendError="this.closest('search-overlay')?.querySelector('#search-results')?.removeAttribute('aria-busy')"
      hx-on:htmx:responseError="this.closest('search-overlay')?.querySelector('#search-results')?.removeAttribute('aria-busy')">
  <div class="search-input-wrap">
    <input type="search" id="search-input" name="q" placeholder="Search" autocomplete="off">
    <span id="search-spinner" class="spinner htmx-indicator" aria-hidden="true"></span>
  </div>
</form>
