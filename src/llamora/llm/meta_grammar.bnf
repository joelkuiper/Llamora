# â”€â”€ whitespace â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ws          ::= ([ \t\r\n])*


# â”€â”€ top-level structure â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
root        ::= text "<meta>" ws obj ws "</meta>"
text        ::= (anychar)*

# anything that is not the literal "<meta>"
anychar     ::= ([^<]
              | "<" [^m]
              | "<m" [^e]
              | "<me" [^t]
              | "<met" [^a]
              | "<meta" [^>])


# â”€â”€ JSON-like strings  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
string      ::= "\"" stringchar* "\"" ws

stringchar ::= [^"\\\x7F\x00-\x1F] | "\\" escape

escape      ::= ["\\bfnrt] | "u" hex hex hex hex

hex         ::= [0-9a-fA-F]


# â”€â”€ meta object â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
obj         ::= ("{" ws
                 "emoji" ":" ws emoji ws "," ws
                 "keywords" ":" ws kwarray ws
               "}")

emoji       ::= "\"" emojichar+ "\"" ws
emojichar  ::= [ğŸ˜€-ğŸ™] | [ğŸš€-ğŸ›€] | [ğŸŒ€-ğŸ—¿]
kwarray     ::= "[" ws (string ("," ws string){0,2})? "]" ws
