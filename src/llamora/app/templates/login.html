{% extends 'layouts/auth_base.html' %}
{% from 'partials/error.html' import alert %}

{% block title %} | Login{% endblock %}

{% block form %}
  {% if error %}
  {{ alert(error) }}
  {% endif %}
  <form method="post">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
    {% if return_url %}
    <input type="hidden" name="return" value="{{ return_url }}" />
    {% endif %}
    <input class="input" type="text" name="username" placeholder="Username"
           value="{{ username | default('', true) }}"
           required pattern="^\S+$" maxlength="{{ config.MAX_USERNAME_LENGTH }}" />
    <input class="input" type="password" name="password" placeholder="Password"
           required maxlength="{{ config.MAX_PASSWORD_LENGTH }}" />
    <button class="btn btn-primary" type="submit" data-loading="Logging in">Login</button>
  </form>
  <br />
  {% if not config.DISABLE_REGISTRATION %}
  <p>Need an account? <a href="{{ url_for('auth.register') }}">Register</a></p>
  {% endif %}
  <p><a href="{{ url_for('auth.reset_password') }}">Forgot password?</a></p>
{% endblock %}

