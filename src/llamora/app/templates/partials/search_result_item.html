<li class="search-result-item{% if item.css_class %} {{ item.css_class }}{% endif %}"
    role="option"
    data-result-index="{{ loop.index0 }}"
    tabindex="-1">
  <a href="{{ url_for('days.day', date=item.created_at[:10]) }}?target=msg-{{ item.id }}"
     hx-get="{{ url_for('chat.chat_htmx', date=item.created_at[:10]) }}?target=msg-{{ item.id }}"
     hx-target="#content-wrapper"
     hx-swap="outerHTML"
     data-date="{{ item.created_at[:10] }}"
     data-target="msg-{{ item.id }}"
     hx-trigger="click[!document.getElementById('chat') || document.getElementById('chat').dataset.date !== this.dataset.date]">
    <div class="search-result-meta">
      {{ "You" if  item.role == "user" else config.APP_NAME }}
    </div>
    <div class="search-result-time">
      {{ item.created_at|humanize }}
    </div>
    <div class="search-result-content">
      {%- if item.snippet.leading_ellipsis %}…{% endif -%}
      {%- for seg in item.snippet.segments -%}
        {%- if seg.hit -%}
          <mark>{{ seg.text }}</mark>
        {%- else -%}
          {{ seg.text }}
        {%- endif -%}
      {%- endfor -%}
      {%- if item.snippet.trailing_ellipsis %}…{% endif -%}
    </div>
    <span class="search-result-hint" aria-hidden="true">Press Enter to open</span>
  </a>
</li>
