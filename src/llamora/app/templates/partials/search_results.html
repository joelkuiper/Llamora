{% from 'partials/overlay_close_button.html' import overlay_close_button %}
{% set items = results|default([]) %}
{% set query_present = has_query|default(false) %}
{% set result_count = items|length %}
{% set truncation_notice = truncation_notice|default('') %}
<div class="search-results-status">
  {% if query_present %}
  <p class="visually-hidden" aria-live="polite" role="status" aria-atomic="true">
    {%- if items -%}
    {{ result_count }} search result{%- if result_count != 1 %}s{% endif %} available.
    {%- else -%}
    No matches found.
    {%- endif -%}
  </p>
  {% endif %}
  {% if truncation_notice %}
  <p class="search-results-notice" role="status" aria-live="polite">{{ truncation_notice }}</p>
  {% endif %}
  {% if items %}
  <div class="sr-panel search-results-overlay">
    {{ overlay_close_button() }}
    <ul class="search-results-list" role="listbox">
      {% for item in items %}
      {% include 'partials/search_result_item.html' %}
      {% endfor %}
    </ul>
  </div>
  {% elif query_present %}
  <div class="sr-panel search-results-overlay is-empty">
    {{ overlay_close_button() }}
    <div class="search-results-empty" role="group">
      <p class="search-results-empty-title">No matches found</p>
      <p class="search-results-empty-description">Try a different search or adjust your filters.</p>
    </div>
  </div>
  {% endif %}
</div>
