{% extends 'layouts/auth_base.html' %}

{% block title %} | Recovery Code{% endblock %}

{% block form %}
  <h1>Recovery Code</h1>
  <p class="warning">
    This code is the only way to get back into your account if you lose your password.
    Keep it somewhere safe. Without it, your data cannot be recovered.
  </p>

  <pre id="recovery">{{ code }}</pre>
  <div class="recovery-actions">
    <button class="btn" id="copy">Copy</button>
    <button class="btn" id="download">Download</button>
  </div>
  <div class="acknowledge">
    <label class="acknowledge-label">
      <input type="checkbox" id="acknowledge" />
      <span>
        I understand: anyone with this code can access my account.
        If I lose it, I wonâ€™t be able to recover my data.
        I will store it securely.
      </span>
    </label>
  </div>
  <p class="continue">
    <button
      class="btn btn-primary"
      id="continue"
      disabled
      data-next="{{ next_url }}"
    >
      Continue
    </button>
  </p>
{% endblock %}

{% block body_scripts %}
  {% if config.STATIC_BUNDLES %}
    {% set recovery_js = config.STATIC_MANIFEST['js'].get('recovery') %}
    {% if recovery_js %}
      <script type="module" defer src="{{ url_for('static', filename=recovery_js) }}"></script>
    {% endif %}
  {% else %}
    <script type="module" src="{{ url_for('static', filename='js/recovery.js') }}"></script>
  {% endif %}
{% endblock %}
